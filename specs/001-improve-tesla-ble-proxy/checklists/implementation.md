# Implementation Quality Checklist: Improve Tesla BLE Proxy Integration

**Purpose**: Verify implementation quality and adherence to requirements
**Created**: 2026-01-02
**Feature**: [specs/001-improve-tesla-ble-proxy/spec.md](../spec.md)

**Note**: This checklist is generated by the `/speckit.checklist` command based on feature context and requirements.

## Pairing & Setup (User Story 3)

- [ ] IMP001 Pairing flow detects vehicle via BLE discovery
- [ ] IMP002 Interactive "Tap Key Card" prompt works correctly
- [ ] IMP003 System auto-advances when vehicle confirms key addition
- [ ] IMP004 Public/Private keys are securely generated and stored
- [ ] IMP005 Setup cleans up stale connections before attempting pair

## Connectivity (User Story 1, 2)

- [ ] IMP006 `TeslaBLEClient` uses `bleak_retry_connector`
- [ ] IMP007 "Always Connected" mode maintains persistent link
- [ ] IMP008 Disconnect events trigger auto-reconnection (backoff logic)
- [ ] IMP009 Command latency is <2s in connected state
- [ ] IMP010 Integration works via remote ESPHome proxies

## Protocol & logic

- [ ] IMP011 Python protobuf classes generated correctly from `.proto`
- [ ] IMP012 `TeslaSessionManager` handles ECDH handshake accurately
- [ ] IMP013 Messages are correctly signed and encrypted
- [ ] IMP014 Counter updates are persisted to avoid replay attacks

## Code Quality & Standards

- [ ] IMP015 All new code is strictly typed (`mypy`/`ty`)
- [ ] IMP016 Core logic is isolated in `core/` (no HA dependencies in `session_manager.py`)
- [ ] IMP017 Entities inherit from standard HA base classes
- [ ] IMP018 Unit tests cover crypto and protocol parsing
